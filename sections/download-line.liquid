<div class="download_list {{ section.settings.title | downcase | replace: ' ', '-' }}">
  <div class="download_list_wrapper">
    {% if section.settings.title != blank %}
      <div class="download_list_title">
        {{ section.settings.title }}
      </div>
    {% endif %}
    <div class="download_list_box">
      {% for block in section.blocks %}
        <div class="download_item_box">
          <div class="download_item">
            <div class="download_item_imgbox">
              <img
                class="download_item_img b-lazy"
                src="{{ block.settings.image | img_url: 'master' }}"
                data-src="{{ block.settings.image | img_url: 'master' }}"
              >
            </div>
            <div class="download_item_title">
              {{ block.settings.title }}
            </div>
          </div>
          <div class="download_over_box">
            <div class="download_over_top">
              {% if section.settings.popup_title != blank %}
                <h2 class="download_over_top_title">{{ section.settings.popup_title }}</h2>
              {% endif %}
              {% if section.settings.desc != blank %}
                <h3 class="download_over_top_desc">{{ section.settings.desc }}</h3>
              {% endif %}
            </div>
            <div class="download_over_middle">
              <h3 class="download_over_title">MANUALS</h3>
              <div class="download_over_item_box">
                {% assign forloop_num = forloop.index %}
                {% capture metafields_fields %}{{ section.settings.field }}{% endcapture %}
                {% assign downloadMetaobjects = page.metafields.custom[metafields_fields] %}
                {% for metaobject in downloadMetaobjects.value %}
                  {% if forloop.index == forloop_num %}
                    {% for manual_link in metaobject.manuals.value %}
                      {% assign url = manual_link.url %}
                      {% assign parts = url | split: '/' %}
                      {% assign lastPart = parts | last %}
                      {% assign filenameWithExtension = lastPart | split: '?' | first %}
                      {% assign filetype = filenameWithExtension | split: '.' | last %}
                      <a class="download_over_item" href="{{ url }}">
                        {% if filetype == 'pdf' %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398800406"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="2899"
                            width="200"
                            height="200"
                          >
                            <path d="M410.2 430.6h-4.8v91.6h4.8c24 0 41-11 41-46.4s-17-45.2-41-45.2zM282.6 430.4H268v43h15.6c17.4 0 25.8-8.2 25.8-22.8 0-15-9.6-20.2-26.8-20.2z" fill="#FF6969" p-id="2900"></path><path d="M791.94 155.36H332.48c-42.23 0-76.54 34.31-76.54 76.54v76.55h-51.03c-28.16 0-51.04 22.87-51.04 51.03v261.37c0 28.15 22.88 51.02 51.04 51.02h51.03v121.54c0 42.24 34.32 76.55 76.54 76.55h459.46c42.23 0 76.54-34.32 76.54-76.54V231.9c0.1-42.24-34.31-76.54-76.54-76.54zM268 501.6V551h-35.8V402.2h52.2c32.8 0 59.8 11.6 59.8 48.4 0 35.4-27.4 51-58.8 51H268z m549.45 291.9c-0.02 14.09-11.43 25.5-25.52 25.51H332.48c-14.09-0.01-25.5-11.43-25.51-25.51V671.96h306.21c28.15 0 51.03-22.88 51.03-51.03v-6.03h76.69c14.09-0.01 25.51-11.43 25.52-25.52-0.02-14.09-11.43-25.5-25.52-25.51h-76.69v-51.03h76.69c14.09-0.01 25.51-11.43 25.52-25.52-0.01-14.09-11.43-25.5-25.52-25.52h-76.69v-51.03h76.69c14.09-0.01 25.51-11.43 25.52-25.51-0.01-14.09-11.43-25.51-25.52-25.52h-76.69c0-28.16-22.89-51.03-51.03-51.03H306.97v-76.54c0.01-14.09 11.43-25.5 25.51-25.52h459.46c14.08 0.01 25.5 11.43 25.51 25.52V793.5zM369.6 551V402.2h42.8c45.4 0 75.4 21.8 75.4 73.6s-30 75.2-73.4 75.2h-44.8zM602 464.4v29.8h-50.8V551h-35.8V402.2h95v29.6h-59.2v32.6H602z" fill="#FF6969" p-id="2901"></path>
                          </svg>
                        {% elsif filetype == 'zip' %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398892098"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="7718"
                            width="200"
                            height="200"
                          >
                            <path d="M97.9 376h828.4v269.2H97.9z" fill="#F95F5D" p-id="7719"></path><path d="M926.3 376V161.5c0-26.6-23.8-50.3-52.1-50.3H149.9c-28.3 0-52.1 23.7-52.1 50.3V376h828.5z m0 0" fill="#55C7F7" p-id="7720"></path><path d="M97.9 645.2v214.5c0 26.6 23.6 50.3 51.7 50.3h725c28.1 0 51.7-23.7 51.7-50.3V645.2H97.9z m0 0" fill="#7ECF3B" p-id="7721"></path><path d="M421.8 111.2h184.9V910H421.8z" fill="#FDAF42" p-id="7722"></path><path d="M606.7 457.4v112.4H413V457.4h193.7m31.1-45.9H381.9c-4.4 0-11.8 4.4-11.8 11.8v179c0 4.4 4.4 11.8 11.8 11.8h255.9c4.4 0 11.8-4.4 11.8-11.8v-179c-2.9-8.8-7.4-11.8-11.8-11.8z m0 0" fill="#FFFFFF" p-id="7723"></path>
                          </svg>
                        {% else %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398959837"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="12278"
                            width="200"
                            height="200"
                          >
                            <path d="M913.29536 941.04064c0.0256 24.82688-16.54784 44.96384-37.0176 44.98432l-708.23936 0.6912c-20.46464 0.02048-37.07904-20.08576-37.10464-44.91264l-0.83968-859.02848c-0.0256-24.82688 16.54784-44.96384 37.0176-44.98432l521.10848-0.50688 224.39424 210.50368 0.68096 693.25312z" fill="#E6E4E2" p-id="12279"></path><path d="M913.29536 253.26592l-189.11744 0.18432c-20.46464 0.02048-37.07904-20.08576-37.10464-44.91264l-0.16384-165.77024 226.38592 210.49856z" fill="#C4BCB1" p-id="12280"></path><path d="M720.72192 396.84096a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848zM720.72192 565.95456a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848zM720.72192 746.33728a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848z" fill="#C4BCB1" p-id="12281"></path>
                          </svg>
                        {% endif %}
                        <span>{{ filenameWithExtension }}</span>
                        <svg
                          class="download_over_svg_download"
                          width="16"
                          height="15"
                          viewBox="0 0 16 15"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path d="M10.4 5.39998V0.599976H5.6V5.39998H1.6L8 11.8L14.4 5.39998H10.4ZM0 13.4H16V15H0V13.4Z" fill="black"/>
                        </svg>
                      </a>
                    {% endfor %}
                  {% endif %}
                {% endfor %}
              </div>
            </div>
            <div class="download_over_bottom">
              <h3 class="download_over_title">SOFTWARE</h3>
              <div class="download_over_item_box">
                {% for metaobject in downloadMetaobjects.value %}
                  {% if forloop.index == forloop_num %}
                    {% for manual_link in metaobject.software.value %}
                      {% assign url = manual_link.url %}
                      {% assign parts = url | split: '/' %}
                      {% assign lastPart = parts | last %}
                      {% assign filenameWithExtension = lastPart | split: '?' | first %}
                      {% assign filetype = filenameWithExtension | split: '.' | last %}
                      <a class="download_over_item" href="{{ url }}">
                        {% if filetype == 'pdf' %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398800406"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="2899"
                            width="200"
                            height="200"
                          >
                            <path d="M410.2 430.6h-4.8v91.6h4.8c24 0 41-11 41-46.4s-17-45.2-41-45.2zM282.6 430.4H268v43h15.6c17.4 0 25.8-8.2 25.8-22.8 0-15-9.6-20.2-26.8-20.2z" fill="#FF6969" p-id="2900"></path><path d="M791.94 155.36H332.48c-42.23 0-76.54 34.31-76.54 76.54v76.55h-51.03c-28.16 0-51.04 22.87-51.04 51.03v261.37c0 28.15 22.88 51.02 51.04 51.02h51.03v121.54c0 42.24 34.32 76.55 76.54 76.55h459.46c42.23 0 76.54-34.32 76.54-76.54V231.9c0.1-42.24-34.31-76.54-76.54-76.54zM268 501.6V551h-35.8V402.2h52.2c32.8 0 59.8 11.6 59.8 48.4 0 35.4-27.4 51-58.8 51H268z m549.45 291.9c-0.02 14.09-11.43 25.5-25.52 25.51H332.48c-14.09-0.01-25.5-11.43-25.51-25.51V671.96h306.21c28.15 0 51.03-22.88 51.03-51.03v-6.03h76.69c14.09-0.01 25.51-11.43 25.52-25.52-0.02-14.09-11.43-25.5-25.52-25.51h-76.69v-51.03h76.69c14.09-0.01 25.51-11.43 25.52-25.52-0.01-14.09-11.43-25.5-25.52-25.52h-76.69v-51.03h76.69c14.09-0.01 25.51-11.43 25.52-25.51-0.01-14.09-11.43-25.51-25.52-25.52h-76.69c0-28.16-22.89-51.03-51.03-51.03H306.97v-76.54c0.01-14.09 11.43-25.5 25.51-25.52h459.46c14.08 0.01 25.5 11.43 25.51 25.52V793.5zM369.6 551V402.2h42.8c45.4 0 75.4 21.8 75.4 73.6s-30 75.2-73.4 75.2h-44.8zM602 464.4v29.8h-50.8V551h-35.8V402.2h95v29.6h-59.2v32.6H602z" fill="#FF6969" p-id="2901"></path>
                          </svg>
                        {% elsif filetype == 'zip' %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398892098"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="7718"
                            width="200"
                            height="200"
                          >
                            <path d="M97.9 376h828.4v269.2H97.9z" fill="#F95F5D" p-id="7719"></path><path d="M926.3 376V161.5c0-26.6-23.8-50.3-52.1-50.3H149.9c-28.3 0-52.1 23.7-52.1 50.3V376h828.5z m0 0" fill="#55C7F7" p-id="7720"></path><path d="M97.9 645.2v214.5c0 26.6 23.6 50.3 51.7 50.3h725c28.1 0 51.7-23.7 51.7-50.3V645.2H97.9z m0 0" fill="#7ECF3B" p-id="7721"></path><path d="M421.8 111.2h184.9V910H421.8z" fill="#FDAF42" p-id="7722"></path><path d="M606.7 457.4v112.4H413V457.4h193.7m31.1-45.9H381.9c-4.4 0-11.8 4.4-11.8 11.8v179c0 4.4 4.4 11.8 11.8 11.8h255.9c4.4 0 11.8-4.4 11.8-11.8v-179c-2.9-8.8-7.4-11.8-11.8-11.8z m0 0" fill="#FFFFFF" p-id="7723"></path>
                          </svg>
                        {% else %}
                          <svg
                            class="download_over_front_svg"
                            t="1684398959837"
                            class="icon"
                            viewBox="0 0 1024 1024"
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            p-id="12278"
                            width="200"
                            height="200"
                          >
                            <path d="M913.29536 941.04064c0.0256 24.82688-16.54784 44.96384-37.0176 44.98432l-708.23936 0.6912c-20.46464 0.02048-37.07904-20.08576-37.10464-44.91264l-0.83968-859.02848c-0.0256-24.82688 16.54784-44.96384 37.0176-44.98432l521.10848-0.50688 224.39424 210.50368 0.68096 693.25312z" fill="#E6E4E2" p-id="12279"></path><path d="M913.29536 253.26592l-189.11744 0.18432c-20.46464 0.02048-37.07904-20.08576-37.10464-44.91264l-0.16384-165.77024 226.38592 210.49856z" fill="#C4BCB1" p-id="12280"></path><path d="M720.72192 396.84096a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848zM720.72192 565.95456a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848zM720.72192 746.33728a22.54848 22.54848 0 0 1-22.54848 22.54848H326.13376a22.54848 22.54848 0 0 1 0-45.09696h372.0448a22.54848 22.54848 0 0 1 22.54336 22.54848z" fill="#C4BCB1" p-id="12281"></path>
                          </svg>
                        {% endif %}
                        <span>{{ filenameWithExtension }}</span>
                        <svg
                          class="download_over_svg_download"
                          width="16"
                          height="15"
                          viewBox="0 0 16 15"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path d="M10.4 5.39998V0.599976H5.6V5.39998H1.6L8 11.8L14.4 5.39998H10.4ZM0 13.4H16V15H0V13.4Z" fill="black"/>
                        </svg>
                      </a>
                    {% endfor %}
                  {% endif %}
                {% endfor %}
              </div>
            </div>
            <div class="download_over_closebutton">
              <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.07031 21.8701L21.2124 7.72798" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
                <path d="M21.2129 21.8701L7.07075 7.72798" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
          </div>
          <div class="download_over_background"></div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Download Line",
  "class": "download-page page-width download-line",
  "settings": [
    {
        "type": "text",
        "id": "field",
        "label": "Field",
        "info":"Example:line 1 is download,other is download_line_2(number)"
      },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "textarea",
      "id": "popup_title",
      "label": "Popup title",
      "default":"MANUALS & SOFTWARE"
    },
    {
      "type": "textarea",
      "id": "desc",
      "label": "Popup description",
      "default":"Here you will find user manuals, device drivers and softwares for a wide range of our products."
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Download Line"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
